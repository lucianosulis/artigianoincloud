{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Centro Reportistica</h2>
    
    <div class="row">
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-info font-weight-bold">Attività per ordine</h5>
                    <p class="card-text text-muted small">Esporta i dati delle attività per ordine specifico.</p>
                    
                    <form action="{{ url_for('report.order_activities') }}" method="POST">
                        <!--<div class="form-group">
                            <label class="small">Dal:</label>
                            <input type="date" name="start" class="form-control form-control-sm" required>
                        </div>
                        <div class="form-group">
                            <label class="small">Al:</label>
                            <input type="date" name="end" class="form-control form-control-sm" required>
                        </div>-->
                        <div class="form-group">
                            <label class="small">Ordine:</label>
                            <SELECT id="order_id" name="order_id" size="5" required> 
                              {% for order in orders %}
                                <OPTION value={{order.order_id}} title="{{ order.order_desc }}">{{order.order_desc|truncate(35)}}</option>
                              {% endfor %}
                            </SELECT>
                        </div>
                        <button type="submit" class="btn btn-success btn-block mt-3">
                            <i class="fas fa-file-excel"></i> Scarica Excel
                        </button>
                    </form>
                </div>
            </div>
        </div>

         <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-info font-weight-bold">Attività con operatori per ordine</h5>
                    <p class="card-text text-muted small">Operatori impiegati nelle attività di un ordine.</p>
                    <div class="mt-auto">
                        <form action="{{ url_for('report.order_teams') }}" method="POST">
                          <div class="form-group">
                            <label class="small">Ordine:</label>
                            <SELECT id="order_id" name="order_id" size="5" required> 
                              {% for order in orders %}
                                <OPTION value={{order.order_id}} title="{{ order.order_desc }}">{{order.order_desc|truncate(35)}}</option>
                              {% endfor %}
                            </SELECT>
                        </div>
                            <button type="submit" class="btn btn-success btn-block mt-3">
                            <i class="fas fa-file-excel"></i> Scarica Excel
                        </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
